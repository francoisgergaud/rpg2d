<html>
	<head>
		<meta charset="UTF-8"></meta>
		<script type="text/javascript" src="./data/resources/dragonBallSpriteMapping.js"></script>
		<script type="text/javascript" src="./data/resources/backgroundTileMapping.js"></script>
		<script type="text/javascript" src="./data/scene2/scene2.js"></script>
		<script type="text/javascript" src="./engine/3rdLibs/sockjs.js"></script>
		<script type="text/javascript" src="./engine/3rdLibs/stomp.js"></script>
		<script type="text/javascript" src="./engine/3rdLibs/jquery-3.2.1.js"></script>
		<script type="text/javascript" src="./engine/helpers.js"></script>
		<script type="text/javascript" src="./engine/animatedElement.js"></script>
		<script type="text/javascript" src="./engine/character.js"></script>
		<script type="text/javascript" src="./engine/worldElement.js"></script>
		<script type="text/javascript" src="./engine/environment.js"></script>
		<script type="text/javascript" src="./engine/scene.js"></script>
		<script type="text/javascript" src="./engine/onlineScene.js"></script>
		<script type="text/javascript" src="./engine/sceneFactory.js"></script>
		<script type="text/javascript" src="./engine/camera.js"></script>
		<script type="text/javascript" src="./engine/scrollingCanvasBuffer.js"></script>
		<script type="text/javascript" src="./engine/engine.js"></script>
		<script type="text/javascript" src="./engine/serverConnector.js"></script>
		<script type="text/javascript" src="./main.js"></script>
		<link rel="stylesheet" type="text/css" href="./engine/3rdLibs/pure-min.js"></link>
	</head>
	<body>
		<div id="connection">
			<form>
				<input id="username" type="text">
				<button type="button" onclick="connect(document.getElementById(username));">Connect</button>
				<div id="connectionMessages"></div>
			</form>
		</div>
		<div id="game" style="display:none">
			<div class="pure-g">
			    <div class="pure-u-2-3">
					<canvas id="canvas" width="400" height="500" style="border:1px solid #0000FF;">
					Canvas not supported
					</canvas>
			    </div>
			    <div class="pure-u-1-3" id="messages">
			    	Notification receiver
			    </div>
			</div>
			<div class="pure-g">
			    <div class="pure-u-3-3">
			    	Notification sender
			    </div>
			</div>
			<script type="text/javascript">
				/**
				 * given as a callback for successful game-engine start
				 */
				function showCanvas(){
					document.getElementById("connection").display="none";
					document.getElementById("game").display="block";
				}

				/**
				 * called from 'connect' button is pclicked
				 * @param  {string} username the player's name
				 */
				function connect(username){
					gameBootstrap(
						document.getElementById("canvas"), 
						document.getElementById('username').value, 
						function(){
							document.getElementById("connection").style.display="none";
							document.getElementById("game").style.display="block";
						}
					);
				}

			</script>
		</div>
	</body>
</html>